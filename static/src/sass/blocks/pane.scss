@import "../variables.scss";
// requires layouts.scss";


// when a user requests something and a pane slides out from the right hand side
// drew says it will always be the same width
.pane {
  //background: #fff;
  background-size: auto 110%;
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  position: fixed;
  right: -$pane-width;
  top: $nav-scoreboard-height;
  transition: right 230ms cubic-bezier(.8,.16,.18,.85);
  -webkit-animation-delay: 100ms; /* Chrome, Safari, Opera */
  animation-delay: 100ms;
  width: $pane-width;
  will-change: right, transition, transform;
  transform: translateZ(0); // To prevent repaint on scroll.
  z-index: $zindex-modal + 6;
  padding-left: 15px;


  &__close {
    background: url('../img/blocks/pane/btn-close-arrow.png') no-repeat;
    background-size: 28px auto;
    cursor: pointer;
    display: block;
    height: 20px;
    width: 30px;
    position: absolute;
    left: -15px;
    top: 50px;
    // z-index: $zindex-modal + 2;

    &:hover {
      opacity: .75;
    }
  }

  &__content {
    min-height: 100%;
    width: 100%;
    position: relative;
    background: #fff;
    .grid{
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      box-sizing: border-box;
      &.pane-standings{
        position: relative;
      }
      @for $i from 1 through 9{
        .grid-col-#{$i}{
          grid-column: span #{$i}
        }
      }
      header{
        background: #4b545f;
        box-shadow: 0 10px 10px rgba(0,0,0,.1);
        padding: 5px 5px 5px 20px;
        h6{
          color: #fff;
          padding: 0;
          margin: 0;
          text-transform: uppercase;
          font-weight: 600;
        }
      }
      .user-row{
        padding: 10px 20px;
        border-bottom: 1px solid #d4d7e3;
        box-sizing: border-box;
        overflow: hidden;
        height: auto;
        transition: height .4s;
        position: relative;
        vertical-align: inherit;
        font-size: 12px;
        .player-drawer{
          max-height: 0;
          overflow: hidden;
          box-sizing: border-box;
          transition: max-height .4s;
          &-row{
            padding: 10px 0;
            font-size: 12px;
          }
        }
        &:hover {
          background: #f7f8fa;
        }
        &.show {
          .player-drawer{
            max-height: 100%;
          }
        }
      }
    }
  }
}

.pane__bg-cover {
  will-change: opacity, visibility, height;
  backdrop-filter: blur(3px);
  background: rgba(0,0,0, .5);
  height: 0;
  left: 0;
  overflow-x: hidden;
  overflow-y: auto;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: $zindex-modal;
  opacity: 0;
  transition: opacity .25s, backdrop-filter .25s;
  visibility: hidden;
}

// add app state to pane open will animate the pane open
body.appstate--pane--open {
  // Disable main window content scrolling.
  overflow: hidden;

  .pane__bg-cover {
    height: 100%;
    opacity: 1;
    visibility: visible;
  }

  .pane {
    right: 0px;
  }
}
